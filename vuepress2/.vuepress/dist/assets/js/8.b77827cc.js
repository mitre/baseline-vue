(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{196:function(e,t,r){"use strict";r.r(t);var i=r(0),s=Object(i.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[e._m(0),e._v(" "),r("p",[e._v("A micro-baseline to check for insecure or public S3 buckets and bucket objects in your AWS Environment.")]),e._v(" "),e._m(1),e._v(" "),r("p",[e._v("This "),r("a",{attrs:{href:"https://github.com/chef/inspec",target:"_blank",rel:"noopener noreferrer"}},[e._v("InSpec"),r("OutboundLink")],1),e._v(" compliance profile verifies that you do not have any insure or open to public S3 Bucket or Bucket Objects in your AWS Environment in an automated way.")]),e._v(" "),r("p",[e._v("InSpec is an open-source run-time framework and rule language used to specify compliance, security, and policy requirements for testing any node in your infrastructure.")]),e._v(" "),e._m(2),e._v(" "),r("p",[e._v("This project uses the "),r("a",{attrs:{href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Semantic Versioning Policy"),r("OutboundLink")],1),e._v(".")]),e._v(" "),e._m(3),e._v(" "),r("p",[e._v("The master branch contains the latest version of the software leading up to a new release.")]),e._v(" "),r("p",[e._v("Other branches contain feature-specific updates.")]),e._v(" "),e._m(4),e._v(" "),r("p",[e._v("Tags indicate official releases of the project.")]),e._v(" "),r("p",[e._v("Please note 0.x releases are works in progress (WIP) and may change at any time.")]),e._v(" "),e._m(5),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"http://inspec.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("InSpec"),r("OutboundLink")],1),e._v(" at least version 3.x")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://aws.amazon.com/cli/",target:"_blank",rel:"noopener noreferrer"}},[e._v("AWS CLI"),r("OutboundLink")],1),e._v(" at least version 2.x")])]),e._v(" "),e._m(6),e._v(" "),r("p",[e._v("InSpec uses the standard AWS authentication mechanisms. Typically, you will create an IAM user specifically for auditing activities.")]),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),r("p",[e._v("Before running the profile with InSpec, define environment variables with your AWS region and credentials.  InSpec supports the following standard AWS variables:")]),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),r("p",[e._v("In an AWS MFA enabled enviroment - you need to use derived credentials to use the CLI. Your default AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY will not satisfy the MFA Policies in the AWS environment for full use of the AWS API.")]),e._v(" "),e._m(13),e._v(" "),e._m(14),e._v(" "),e._m(15),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),r("p",[e._v("InSpec makes it easy to run your tests wherever you need. More options listed here: "),r("a",{attrs:{href:"http://inspec.io/docs/reference/cli/",target:"_blank",rel:"noopener noreferrer"}},[e._v("InSpec cli"),r("OutboundLink")],1)]),e._v(" "),e._m(19),e._m(20),e._v(" "),r("p",[e._v("In order to verify individual controls, just provide the control ids to InSpec:")]),e._v(" "),e._m(21),e._m(22),e._v(" "),r("ul",[r("li",[e._v("Rony Xavier "),r("a",{attrs:{href:"https://github.com/rx294",target:"_blank",rel:"noopener noreferrer"}},[e._v("rx294"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("Matthew Dromazos "),r("a",{attrs:{href:"https://github.com/dromazmj",target:"_blank",rel:"noopener noreferrer"}},[e._v("rx294"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("Aaron Lippold "),r("a",{attrs:{href:"https://github.com/aaronlippold",target:"_blank",rel:"noopener noreferrer"}},[e._v("aaronlippold"),r("OutboundLink")],1)])]),e._v(" "),e._m(23),e._v(" "),e._m(24),e._v(" "),e._m(25),e._v(" "),e._m(26),e._v(" "),r("p",[e._v("© 2018 The MITRE Corporation.")]),e._v(" "),r("p",[e._v("Approved for Public Release; Distribution Unlimited. Case Number 18-3678.")]),e._v(" "),e._m(27),e._v(" "),r("p",[e._v("MITRE hereby grants express written permission to use, reproduce, distribute, modify, and otherwise leverage this software to the extent permitted by the licensed terms provided in the LICENSE.md file included with this project.")]),e._v(" "),e._m(28),e._v(" "),r("p",[e._v("This software was produced for the U. S. Government under Contract Number HHSM-500-2012-00008I, and is subject to Federal Acquisition Regulation Clause 52.227-14, Rights in Data-General.")]),e._v(" "),r("p",[e._v("No other use other than that granted to the U. S. Government, or to those acting on behalf of the U. S. Government under that Clause is authorized without the express written permission of The MITRE Corporation.")]),e._v(" "),r("p",[e._v("For further information, please contact The MITRE Corporation, Contracts Management Office, 7515 Colshire Drive, McLean, VA  22102-7539, (703) 983-6000.")])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"aws-s3-baseline"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#aws-s3-baseline","aria-hidden":"true"}},[this._v("#")]),this._v(" aws-s3-baseline")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"description"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#description","aria-hidden":"true"}},[this._v("#")]),this._v(" Description")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"versioning-and-state-of-development"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#versioning-and-state-of-development","aria-hidden":"true"}},[this._v("#")]),this._v(" Versioning and State of Development")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"branches"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#branches","aria-hidden":"true"}},[this._v("#")]),this._v(" Branches")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"tags"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tags","aria-hidden":"true"}},[this._v("#")]),this._v(" Tags")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"requirements"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#requirements","aria-hidden":"true"}},[this._v("#")]),this._v(" Requirements")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"setting-up-aws-credentials-for-inspec"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-aws-credentials-for-inspec","aria-hidden":"true"}},[this._v("#")]),this._v(" Setting up AWS credentials for InSpec")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("Create an IAM user in the AWS console, with your choice of username. Check the box marked “Programmatic Access.”")]),this._v(" "),t("li",[this._v("On the Permissions screen, choose Direct Attach. Select the AWS-managed IAM Profile named “ReadOnlyAccess.” If you wish to restrict the user further, you may do so; see individual InSpec resources to identify which permissions are required.")]),this._v(" "),t("li",[this._v("After generating the key, record the Access Key ID and Secret Key.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"get-started"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#get-started","aria-hidden":"true"}},[this._v("#")]),this._v(" Get started")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Bundle install required gems "),t("br")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("code",[this._v("bundle install")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("code",[e._v("AWS_REGION")])]),e._v(" "),r("li",[r("code",[e._v("AWS_ACCESS_KEY_ID")])]),e._v(" "),r("li",[r("code",[e._v("AWS_SECRET_ACCESS_KEY")])]),e._v(" "),r("li",[r("code",[e._v("AWS_SESSION_TOKEN")]),e._v(" (required if MFA is enabled)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"notes-on-mfa"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#notes-on-mfa","aria-hidden":"true"}},[this._v("#")]),this._v(" Notes on MFA")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("The AWS documentation is here: https://docs.aws.amazon.com/cli/latest/reference/sts/get-session-token.html")]),this._v(" "),t("li",[this._v("The AWS profile documentation is here: https://docs.aws.amazon.com/cli/latest/userguide/cli-multiple-profiles.html")]),this._v(" "),t("li",[this._v("A useful bash script for automating this is here: https://gist.github.com/dinvlad/d1bc0a45419abc277eb86f2d1ce70625")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("Prior")]),this._v(" to running the InSpec Profile, you will need to generate credentials:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[t("p",[this._v("aws sts get-session-token --serial-number arn:aws:iam::<$YOUR-MFA-SERIAL> --token-code <$YOUR-CURRENT-MFA-TOKEN> --profile=<$YOUR-AWS-PROFILE>")])]),this._v(" "),t("li",[t("p",[this._v("Then export the AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY and AWS_SESSION_TOKEN that was generated by the above command.")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"note-small-word-of-warning"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#note-small-word-of-warning","aria-hidden":"true"}},[this._v("#")]),this._v(" NOTE: Small Word of Warning")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In this InSpec profile implementation, the "),t("code",[this._v("s3-objects-no-public-access")]),this._v(" control iterates through and verifies every  objects in each bucket in your AWS Environment, thus its runtime will depend on the number of objects in your S3 Buckets.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"usage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#usage","aria-hidden":"true"}},[this._v("#")]),this._v(" Usage")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# Clone Inspec Profile\n$ git clone https://github.com/aaronlippold/aws-s3-baseline\n\n# Install Gems\n$ bundle install\n\n# Set required ENV variables\n$ export AWS_ACCESS_KEY_ID=key-id\n$ export AWS_SECRET_ACCESS_KEY=access-key\n$ export AWS_SESSION_TOKEN=session-token # if MFA is enabled\n\n# run profile locally and directly from Github\n$ inspec exec /path/to/profile -t aws:// \n\n# run profile locally and directly from Github with cli & json output \n$ inspec exec /path/to/profile -t aws://  --reporter cli json:aws-results.json\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"run-individual-controls"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#run-individual-controls","aria-hidden":"true"}},[this._v("#")]),this._v(" Run individual controls")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ inspec exec /path/to/profile --controls s3-buckets-no-public-access -t aws:// \n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"contributors-kudos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#contributors-kudos","aria-hidden":"true"}},[this._v("#")]),this._v(" Contributors + Kudos")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"license-and-author"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#license-and-author","aria-hidden":"true"}},[this._v("#")]),this._v(" License and Author")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"authors"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#authors","aria-hidden":"true"}},[this._v("#")]),this._v(" Authors")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[e._v("Author:: Rony Xaiver "),r("a",{attrs:{href:"mailto:rxaiver@mitre.org"}},[e._v("rxaiver@mitre.org")])]),e._v(" "),r("li",[e._v("Author:: Matthew Dromazos "),r("a",{attrs:{href:"mailto:mattdromazos9@gmail.com"}},[e._v("dromazmj@dukes.jmu.edu")])]),e._v(" "),r("li",[e._v("Author:: Aaron Lippold "),r("a",{attrs:{href:"mailto:lippold@gmail.com"}},[e._v("lippold@gmail.com")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"notice"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#notice","aria-hidden":"true"}},[this._v("#")]),this._v(" NOTICE")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"notice-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#notice-2","aria-hidden":"true"}},[this._v("#")]),this._v(" NOTICE")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"notice-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#notice-3","aria-hidden":"true"}},[this._v("#")]),this._v(" NOTICE")])}],!1,null,null,null);t.default=s.exports}}]);